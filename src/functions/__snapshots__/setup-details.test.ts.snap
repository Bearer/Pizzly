// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`setupRetrieve when no referenceId is given returns a MISSING_PARAMETER error 1`] = `
Object {
  "Payload": "{\\"error\\":{\\"code\\":\\"MISSING_PARAMETER\\",\\"message\\":\\"Please provide a referenceId\\"}}",
  "StatusCode": 200,
}
`;

exports[`setupRetrieve when the setup details do NOT exist returns a response with data false 1`] = `
Object {
  "Payload": "{\\"referenceId\\":\\"test-setup-id\\",\\"data\\":false}",
  "StatusCode": 200,
}
`;

exports[`setupRetrieve when the setup details exist returns a response with data true 1`] = `
Object {
  "Payload": "{\\"referenceId\\":\\"test-setup-id\\",\\"data\\":false}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type APIKEY with input {"apiKey":"","type":"APIKEY"} succeeds 1`] = `
Object {
  "Payload": "{\\"data\\":{\\"type\\":\\"APIKEY\\",\\"setupId\\":\\"test-generated-id\\"},\\"referenceId\\":\\"test-generated-id\\"}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type APIKEY with input {"apiKey":"anap asd asd qw3489012737ASDASDASDikey","type":"APIKEY"} succeeds 1`] = `
Object {
  "Payload": "{\\"data\\":{\\"apiKey\\":\\"anap asd asd qw3489012737ASDASDASDikey\\",\\"type\\":\\"APIKEY\\",\\"setupId\\":\\"test-generated-id\\"},\\"referenceId\\":\\"test-generated-id\\"}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type APIKEY with input {"apikey":"anapikey","type":"APIKEY"} fails 1`] = `
Object {
  "Payload": "{\\"error\\":{\\"isJoi\\":true,\\"name\\":\\"ValidationError\\",\\"details\\":[{\\"message\\":\\"\\\\\\"apiKey\\\\\\" is required\\",\\"path\\":[\\"apiKey\\"],\\"type\\":\\"any.required\\",\\"context\\":{\\"key\\":\\"apiKey\\",\\"label\\":\\"apiKey\\"}},{\\"message\\":\\"\\\\\\"apikey\\\\\\" is not allowed\\",\\"path\\":[\\"apikey\\"],\\"type\\":\\"object.allowUnknown\\",\\"context\\":{\\"child\\":\\"apikey\\",\\"value\\":\\"anapikey\\",\\"key\\":\\"apikey\\",\\"label\\":\\"apikey\\"}}],\\"_object\\":{\\"apikey\\":\\"anapikey\\",\\"type\\":\\"APIKEY\\"}}}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type APIKEY with input {"type":"APIKEY"} fails 1`] = `
Object {
  "Payload": "{\\"error\\":{\\"isJoi\\":true,\\"name\\":\\"ValidationError\\",\\"details\\":[{\\"message\\":\\"\\\\\\"apiKey\\\\\\" is required\\",\\"path\\":[\\"apiKey\\"],\\"type\\":\\"any.required\\",\\"context\\":{\\"key\\":\\"apiKey\\",\\"label\\":\\"apiKey\\"}}],\\"_object\\":{\\"type\\":\\"APIKEY\\"}}}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type BASIC with input {"Ysername":"anapikey","passwordd":"asdasd","type":"BASIC"} fails 1`] = `
Object {
  "Payload": "{\\"error\\":{\\"isJoi\\":true,\\"name\\":\\"ValidationError\\",\\"details\\":[{\\"message\\":\\"\\\\\\"username\\\\\\" is required\\",\\"path\\":[\\"username\\"],\\"type\\":\\"any.required\\",\\"context\\":{\\"key\\":\\"username\\",\\"label\\":\\"username\\"}},{\\"message\\":\\"\\\\\\"Ysername\\\\\\" is not allowed\\",\\"path\\":[\\"Ysername\\"],\\"type\\":\\"object.allowUnknown\\",\\"context\\":{\\"child\\":\\"Ysername\\",\\"value\\":\\"anapikey\\",\\"key\\":\\"Ysername\\",\\"label\\":\\"Ysername\\"}},{\\"message\\":\\"\\\\\\"passwordd\\\\\\" is not allowed\\",\\"path\\":[\\"passwordd\\"],\\"type\\":\\"object.allowUnknown\\",\\"context\\":{\\"child\\":\\"passwordd\\",\\"value\\":\\"asdasd\\",\\"key\\":\\"passwordd\\",\\"label\\":\\"passwordd\\"}}],\\"_object\\":{\\"Ysername\\":\\"anapikey\\",\\"passwordd\\":\\"asdasd\\",\\"type\\":\\"BASIC\\"}}}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type BASIC with input {"type":"BASIC"} fails 1`] = `
Object {
  "Payload": "{\\"error\\":{\\"isJoi\\":true,\\"name\\":\\"ValidationError\\",\\"details\\":[{\\"message\\":\\"\\\\\\"username\\\\\\" is required\\",\\"path\\":[\\"username\\"],\\"type\\":\\"any.required\\",\\"context\\":{\\"key\\":\\"username\\",\\"label\\":\\"username\\"}}],\\"_object\\":{\\"type\\":\\"BASIC\\"}}}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type BASIC with input {"username":"","password":"","type":"BASIC"} succeeds 1`] = `
Object {
  "Payload": "{\\"data\\":{\\"type\\":\\"BASIC\\",\\"setupId\\":\\"test-generated-id\\"},\\"referenceId\\":\\"test-generated-id\\"}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type BASIC with input {"username":"12737(*^&$@!)(*&#^(%!ikey 47986 key","password":"asdasd","type":"BASIC"} succeeds 1`] = `
Object {
  "Payload": "{\\"data\\":{\\"username\\":\\"12737(*^&$@!)(*&#^(%!ikey 47986 key\\",\\"password\\":\\"asdasd\\",\\"type\\":\\"BASIC\\",\\"setupId\\":\\"test-generated-id\\"},\\"referenceId\\":\\"test-generated-id\\"}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type BASIC with input {"username":"onlyMe","type":"BASIC"} succeeds 1`] = `
Object {
  "Payload": "{\\"data\\":{\\"username\\":\\"onlyMe\\",\\"type\\":\\"BASIC\\",\\"setupId\\":\\"test-generated-id\\"},\\"referenceId\\":\\"test-generated-id\\"}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type OAUTH1 with input {"ConsumerKey":"qwerty","consumer_secret":"1234testing=12","type":"OAUTH1"} fails 1`] = `
Object {
  "Payload": "{\\"error\\":{\\"isJoi\\":true,\\"name\\":\\"ValidationError\\",\\"details\\":[{\\"message\\":\\"\\\\\\"consumerKey\\\\\\" is required\\",\\"path\\":[\\"consumerKey\\"],\\"type\\":\\"any.required\\",\\"context\\":{\\"key\\":\\"consumerKey\\",\\"label\\":\\"consumerKey\\"}},{\\"message\\":\\"\\\\\\"consumerSecret\\\\\\" is required\\",\\"path\\":[\\"consumerSecret\\"],\\"type\\":\\"any.required\\",\\"context\\":{\\"key\\":\\"consumerSecret\\",\\"label\\":\\"consumerSecret\\"}},{\\"message\\":\\"\\\\\\"ConsumerKey\\\\\\" is not allowed\\",\\"path\\":[\\"ConsumerKey\\"],\\"type\\":\\"object.allowUnknown\\",\\"context\\":{\\"child\\":\\"ConsumerKey\\",\\"value\\":\\"qwerty\\",\\"key\\":\\"ConsumerKey\\",\\"label\\":\\"ConsumerKey\\"}},{\\"message\\":\\"\\\\\\"consumer_secret\\\\\\" is not allowed\\",\\"path\\":[\\"consumer_secret\\"],\\"type\\":\\"object.allowUnknown\\",\\"context\\":{\\"child\\":\\"consumer_secret\\",\\"value\\":\\"1234testing=12\\",\\"key\\":\\"consumer_secret\\",\\"label\\":\\"consumer_secret\\"}}],\\"_object\\":{\\"ConsumerKey\\":\\"qwerty\\",\\"consumer_secret\\":\\"1234testing=12\\",\\"type\\":\\"OAUTH1\\"}}}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type OAUTH1 with input {"consumerKey":"","consumerSecret":"","type":"OAUTH1"} succeeds 1`] = `
Object {
  "Payload": "{\\"data\\":{\\"type\\":\\"OAUTH1\\",\\"setupId\\":\\"test-generated-id\\"},\\"referenceId\\":\\"test-generated-id\\"}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type OAUTH1 with input {"consumerKey":"asdasd","consumerSecret":"asdasd=09823bas!d9123","type":"OAUTH1"} succeeds 1`] = `
Object {
  "Payload": "{\\"data\\":{\\"consumerKey\\":\\"asdasd\\",\\"consumerSecret\\":\\"asdasd=09823bas!d9123\\",\\"type\\":\\"OAUTH1\\",\\"setupId\\":\\"test-generated-id\\"},\\"referenceId\\":\\"test-generated-id\\"}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type OAUTH1 with input {"type":"OAUTH1"} fails 1`] = `
Object {
  "Payload": "{\\"error\\":{\\"isJoi\\":true,\\"name\\":\\"ValidationError\\",\\"details\\":[{\\"message\\":\\"\\\\\\"consumerKey\\\\\\" is required\\",\\"path\\":[\\"consumerKey\\"],\\"type\\":\\"any.required\\",\\"context\\":{\\"key\\":\\"consumerKey\\",\\"label\\":\\"consumerKey\\"}},{\\"message\\":\\"\\\\\\"consumerSecret\\\\\\" is required\\",\\"path\\":[\\"consumerSecret\\"],\\"type\\":\\"any.required\\",\\"context\\":{\\"key\\":\\"consumerSecret\\",\\"label\\":\\"consumerSecret\\"}}],\\"_object\\":{\\"type\\":\\"OAUTH1\\"}}}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type OAUTH2 with input {"clientID":"","clientSecret":"","type":"OAUTH2"} succeeds 1`] = `
Object {
  "Payload": "{\\"data\\":{\\"type\\":\\"OAUTH2\\",\\"setupId\\":\\"test-generated-id\\"},\\"referenceId\\":\\"test-generated-id\\"}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type OAUTH2 with input {"clientID":"a clientId","clientSecre":"a secret","type":"OAUTH2"} fails 1`] = `
Object {
  "Payload": "{\\"error\\":{\\"isJoi\\":true,\\"name\\":\\"ValidationError\\",\\"details\\":[{\\"message\\":\\"\\\\\\"clientSecret\\\\\\" is required\\",\\"path\\":[\\"clientSecret\\"],\\"type\\":\\"any.required\\",\\"context\\":{\\"key\\":\\"clientSecret\\",\\"label\\":\\"clientSecret\\"}},{\\"message\\":\\"\\\\\\"clientSecre\\\\\\" is not allowed\\",\\"path\\":[\\"clientSecre\\"],\\"type\\":\\"object.allowUnknown\\",\\"context\\":{\\"child\\":\\"clientSecre\\",\\"value\\":\\"a secret\\",\\"key\\":\\"clientSecre\\",\\"label\\":\\"clientSecre\\"}}],\\"_object\\":{\\"clientID\\":\\"a clientId\\",\\"clientSecre\\":\\"a secret\\",\\"type\\":\\"OAUTH2\\"}}}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type OAUTH2 with input {"clientID":"aClientId","clientSecret":"aSecret","type":"OAUTH2"} succeeds 1`] = `
Object {
  "Payload": "{\\"data\\":{\\"clientID\\":\\"aClientId\\",\\"clientSecret\\":\\"aSecret\\",\\"type\\":\\"OAUTH2\\",\\"setupId\\":\\"test-generated-id\\"},\\"referenceId\\":\\"test-generated-id\\"}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type OAUTH2 with input {"clientID":"aClientId","clientSecret":"aSecret","type":"OaUtH2"} succeeds 1`] = `
Object {
  "Payload": "{\\"data\\":{\\"clientID\\":\\"aClientId\\",\\"clientSecret\\":\\"aSecret\\",\\"type\\":\\"OAUTH2\\",\\"setupId\\":\\"test-generated-id\\"},\\"referenceId\\":\\"test-generated-id\\"}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type OAUTH2 with input {"clientID":1,"clientSecret":4,"type":"OAUTH2"} fails 1`] = `
Object {
  "Payload": "{\\"error\\":{\\"isJoi\\":true,\\"name\\":\\"ValidationError\\",\\"details\\":[{\\"message\\":\\"\\\\\\"clientID\\\\\\" must be a string\\",\\"path\\":[\\"clientID\\"],\\"type\\":\\"string.base\\",\\"context\\":{\\"value\\":1,\\"key\\":\\"clientID\\",\\"label\\":\\"clientID\\"}},{\\"message\\":\\"\\\\\\"clientSecret\\\\\\" must be a string\\",\\"path\\":[\\"clientSecret\\"],\\"type\\":\\"string.base\\",\\"context\\":{\\"value\\":4,\\"key\\":\\"clientSecret\\",\\"label\\":\\"clientSecret\\"}}],\\"_object\\":{\\"clientID\\":1,\\"clientSecret\\":4,\\"type\\":\\"OAUTH2\\"}}}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type OAUTH2 with input {"clientId":"aClientId","clientSecret":"a secret","type":"OAUTH2"} fails 1`] = `
Object {
  "Payload": "{\\"error\\":{\\"isJoi\\":true,\\"name\\":\\"ValidationError\\",\\"details\\":[{\\"message\\":\\"\\\\\\"clientID\\\\\\" is required\\",\\"path\\":[\\"clientID\\"],\\"type\\":\\"any.required\\",\\"context\\":{\\"key\\":\\"clientID\\",\\"label\\":\\"clientID\\"}},{\\"message\\":\\"\\\\\\"clientId\\\\\\" is not allowed\\",\\"path\\":[\\"clientId\\"],\\"type\\":\\"object.allowUnknown\\",\\"context\\":{\\"child\\":\\"clientId\\",\\"value\\":\\"aClientId\\",\\"key\\":\\"clientId\\",\\"label\\":\\"clientId\\"}}],\\"_object\\":{\\"clientId\\":\\"aClientId\\",\\"clientSecret\\":\\"a secret\\",\\"type\\":\\"OAUTH2\\"}}}",
  "StatusCode": 200,
}
`;

exports[`setupSave validation for auth type OAUTH2 with input {"type":"OAUTH2"} fails 1`] = `
Object {
  "Payload": "{\\"error\\":{\\"isJoi\\":true,\\"name\\":\\"ValidationError\\",\\"details\\":[{\\"message\\":\\"\\\\\\"clientID\\\\\\" is required\\",\\"path\\":[\\"clientID\\"],\\"type\\":\\"any.required\\",\\"context\\":{\\"key\\":\\"clientID\\",\\"label\\":\\"clientID\\"}},{\\"message\\":\\"\\\\\\"clientSecret\\\\\\" is required\\",\\"path\\":[\\"clientSecret\\"],\\"type\\":\\"any.required\\",\\"context\\":{\\"key\\":\\"clientSecret\\",\\"label\\":\\"clientSecret\\"}}],\\"_object\\":{\\"type\\":\\"OAUTH2\\"}}}",
  "StatusCode": 200,
}
`;

exports[`setupSave when a referenceId is provided uses the provided id 1`] = `
Object {
  "Payload": "{\\"data\\":{\\"type\\":\\"BASIC\\",\\"username\\":\\"test-user\\",\\"setupId\\":\\"test-setup-id\\"},\\"referenceId\\":\\"test-setup-id\\"}",
  "StatusCode": 200,
}
`;

exports[`setupSave when a referenceId is provided uses the provided id 2`] = `
Object {
  "Payload": "{\\"data\\":{\\"type\\":\\"BASIC\\",\\"username\\":\\"test-user\\",\\"setupId\\":\\"test-setup-id\\"},\\"referenceId\\":\\"test-setup-id\\"}",
  "StatusCode": 200,
}
`;

exports[`setupSave when empty strings are provided saves Basic auth setup details 1`] = `
Object {
  "Payload": "{\\"data\\":{\\"type\\":\\"BASIC\\",\\"setupId\\":\\"test-setup-id\\"},\\"referenceId\\":\\"test-setup-id\\"}",
  "StatusCode": 200,
}
`;

exports[`setupSave when no setup parameter is given returns a MISSING_SETUP error 1`] = `
Object {
  "Payload": "{\\"error\\":{\\"code\\":\\"MISSING_SETUP\\",\\"message\\":\\"Please provide a setup object containing information { setup: { ... } }\\"}}",
  "StatusCode": 200,
}
`;

exports[`setupSave when the auth type does NOT match the integration config returns an error 1`] = `
Object {
  "Payload": "{\\"error\\":{\\"code\\":\\"INCONSISTENT_AUTH_TYPE\\",\\"message\\":\\"The auth type of the supplied setup details must match the auth type of the API.  The supplied setup type was 'BASIC' but the API is 'OAUTH2'.\\"}}",
  "StatusCode": 200,
}
`;

exports[`setupSave when the auth type is unknown returns a validation error 1`] = `
Object {
  "Payload": "{\\"error\\":{\\"isJoi\\":true,\\"name\\":\\"ValidationError\\",\\"details\\":[{\\"message\\":\\"\\\\\\"type\\\\\\" must be one of [OAUTH2, OAUTH1, APIKEY, BASIC]\\",\\"path\\":[\\"type\\"],\\"type\\":\\"any.allowOnly\\",\\"context\\":{\\"value\\":\\"UNKNOWN\\",\\"valids\\":[\\"OAUTH2\\",\\"OAUTH1\\",\\"APIKEY\\",\\"BASIC\\"],\\"key\\":\\"type\\",\\"label\\":\\"type\\"}}],\\"_object\\":{\\"type\\":\\"UNKNOWN\\"}}}",
  "StatusCode": 200,
}
`;

exports[`setupSave when the setup details already exist returns an EXISTING_SETUP error 1`] = `
Object {
  "Payload": "{\\"data\\":{\\"type\\":\\"BASIC\\",\\"username\\":\\"test-user\\",\\"setupId\\":\\"test-generated-id\\"},\\"referenceId\\":\\"test-generated-id\\"}",
  "StatusCode": 200,
}
`;

exports[`setupSave when the setup details do NOT already exist saves the setup details 1`] = `
Object {
  "Payload": "{\\"data\\":{\\"type\\":\\"BASIC\\",\\"username\\":\\"test-user\\",\\"setupId\\":\\"test-generated-id\\"},\\"referenceId\\":\\"test-generated-id\\"}",
  "StatusCode": 200,
}
`;

exports[`setupSave when the setup details do NOT already exist saves the setup details 2`] = `
Object {
  "Payload": "{\\"data\\":{\\"type\\":\\"BASIC\\",\\"username\\":\\"test-user\\",\\"setupId\\":\\"test-generated-id\\"},\\"referenceId\\":\\"test-generated-id\\"}",
  "StatusCode": 200,
}
`;
